---
import Project from './Project.astro'
import Block from '../../components/Block/Block.astro'
import multilangSpliter from '../../utils/multilangSpliter.js'

export interface Props{
    lang: 'en' | 'tw'
}

const contact = Astro.fetchContent('./src/*.md');

const md = multilangSpliter(contact)

const { lang = 'tw' } = Astro.props;

---
<Block header="Projects">
    {md[lang].map(project => (
        <Project 
            cover={project.cover} 
            desc={project.astro.source}
            title={project.title}
            link={project.link}
            />
    ))}  
</Block>